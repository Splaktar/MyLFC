@model MatchPersonPanelVm

<div class="col-xs-12 container-row">
    <div class="col-xs-12 container-row">
        <div class="text-center">
            Главный судья: @Model.MainRef?.PersonName
        </div>
        @if (Model.AssistantRef.Any())
        {
            <div class="text-center">
                Помощники судьи: 
                @for (var i = 0; i < Model.AssistantRef.Count(); i++)
                {
                    <span>
                        @Model.AssistantRef.ElementAt(i).PersonName
                    @if (i < Model.AssistantRef.Count() - 1)
                    {
                        <span>, </span>
                    }
                </span>
                }
            </div>
        }
        @if (Model.AdditionalRef.Any())
        {
            <div class="text-center">
                Дополнительные судьи: 
                @for (var i = 0; i < Model.AdditionalRef.Count(); i++)
                {
                    <span *ngFor="let ref of assistantRef; let last = last;">
                        @Model.AdditionalRef.ElementAt(i).PersonName
                    @if (i < Model.AdditionalRef.Count() - 1)
                    {
                        <span>, </span>
                    }
                </span>
                }
            </div>
        }
        @if (Model.FourthRef != null)
        {
            <div class="text-center">Резервный судья: @Model.FourthRef.PersonName</div>
        }
        <div class="col-xs-6 container-row">
            <i class="col-xs-12 container-row top10">
                Главный тренер:
            </i>
            <div class="col-xs-12 container-row">@Model.HomeCoach?.PersonName</div>
            <i class="col-xs-12 container-row top10">
                Состав:
            </i>
            @foreach (var person in Model.HomeTeam)
            {
                <div class="col-xs-12 container-row">
                    @person.Number - @person.PersonName
                </div>
            }
            <i class="col-xs-12 container-row top10">
                Запасные:
            </i>
            @foreach (var person in Model.HomeBench)
            {
                <div class="col-xs-12 container-row">
                    @person.Number - @person.PersonName
                </div>
            }
            @if (Model.HomeBan.Any())
            {
                <div class="col-xs-12 container-row top10">
                    <i class="col-xs-12 container-row">Дисквалифицированы:</i>
                    @foreach (var person in Model.HomeBench)
                    {
                        <div class="col-xs-12 container-row">
                            @person.Number - @person.PersonName
                        </div>
                    }
                </div>
            }
            @if (Model.HomeInjury.Any())
            {
                <div class="col-xs-12 container-row top10">
                    <i class="col-xs-12 container-row">Травмированы:</i>
                    @foreach (var person in Model.HomeInjury)
                    {
                        <div class="col-xs-12 container-row">
                            @person.Number - @person.PersonName
                        </div>
                    }
                </div>
            }
        </div>
        <div class="col-xs-6 container-row text-right">
            <i class="col-xs-12 container-row top10">
                Главный тренер:
            </i>
            <div class="col-xs-12 container-row" [textContent]="awayCoach?.personName">@Model.AwayCoach?.PersonName</div>
            <i class="col-xs-12 container-row top10">
                Состав:
            </i>

            @foreach (var person in Model.AwayTeam)
            {
                <div class="col-xs-12 container-row">
                    @person.Number - @person.PersonName
                </div>
            }
            <i class="col-xs-12 container-row top10">
                Запасные:
            </i>
            @foreach (var person in Model.AwayBench)
            {
                <div class="col-xs-12 container-row">
                    @person.Number - @person.PersonName
                </div>
            }
            @if (Model.AwayBan.Any())
            {
                <div class="col-xs-12 container-row top10" *ngIf="awayBan.length > 0">
                    <i class="col-xs-12 container-row">Дисквалифицированы:</i>
                    @foreach (var person in Model.AwayBan)
                {
                        <div class="col-xs-12 container-row">
                            @person.Number - @person.PersonName
                        </div>
                    }
                </div>
            }
            @if (Model.AwayInjury.Any())
            {
                <div class="col-xs-12 container-row top10" *ngIf="awayInjury.length > 0">
                    <i class="col-xs-12 container-row">Травмированы:</i>
                    @foreach (var person in Model.AwayInjury)
                {
                        <div class="col-xs-12 container-row">
                            @person.Number - @person.PersonName
                        </div>
                    }
                </div>
            }
        </div>
    </div>
</div>