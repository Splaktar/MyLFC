<Project Sdk="Microsoft.NET.Sdk.Web">
  <PropertyGroup>
    <TargetFramework>netcoreapp2.2</TargetFramework>
    <GenerateDocumentationFile>true</GenerateDocumentationFile>
    <PreserveCompilationContext>true</PreserveCompilationContext>
    <AssemblyName>MyLiverpool.Web.WebApiNext</AssemblyName>
    <PackageId>MyLiverpool.Web.WebApiNext</PackageId>
      <IsPackable>false</IsPackable>
      <OutputType>Exe</OutputType>
    <TypeScriptCompileBlocked>true</TypeScriptCompileBlocked>
    <ServerGarbageCollection>true</ServerGarbageCollection>
    <TypeScriptToolsVersion>Latest</TypeScriptToolsVersion>
    <SpaRoot>ClientApp\</SpaRoot>
    <DefaultItemExcludes>$(DefaultItemExcludes);$(SpaRoot)node_modules\**</DefaultItemExcludes>

    <!-- Set this to true if you enable server-side prerendering -->
    <BuildServerSideRenderer>true</BuildServerSideRenderer>
    <RemoveHashFromTiny>false</RemoveHashFromTiny>
    <ApplicationIcon />
    <StartupObject />
    </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Debug|AnyCPU'">
    <DocumentationFile />
  </PropertyGroup>

  <ItemGroup>
      <!-- Files not to publish (note that the 'dist' subfolders are re-added below) -->
    <Compile Remove="ClientApp\dist-server\**" />
    <Compile Remove="ClientApp\dist\**" />
    <Compile Remove="ClientApp\node_modules\**" />
    <Content Remove="ClientApp\dist-server\**" />
    <Content Remove="ClientApp\dist\**" />
    <Content Remove="wwwroot\src\**" />
    <Content Remove="wwwroot\content\**" />
    <Content Remove="wwwroot\fonts\**" />
    <Content Remove="wwwroot\swagger\**" />
    <EmbeddedResource Remove="ClientApp\dist-server\**" />
    <EmbeddedResource Remove="ClientApp\dist\**" />
    <EmbeddedResource Remove="ClientApp\node_modules\**" />
    <EmbeddedResource Remove="ClientApp\src\**" />
    <EmbeddedResource Remove="wwwroot\content\**" />
    <EmbeddedResource Remove="wwwroot\src\**" />
    <None Remove="ClientApp\dist-server\**" />
    <None Remove="ClientApp\dist\**" />
    <None Remove="ClientApp\node_modules\**" />
    <None Remove="ClientApp\src\app\editor\langs\**" />
    <None Remove="ClientApp\src\fonts\**" />
    <None Remove="wwwroot\content\persons\**" />
    <None Remove="wwwroot\src\lightgray\**" />
    <None Remove="wwwroot\src\plugins\**" />
    <None Remove="wwwroot\src\skins\**" />
    <Content Include="ClientApp\src\manifest.json" />
    <Content Include="ClientApp\src\index.html" />
    <Content Include="ClientApp\src\tsconfig.cli.json" />
    <Folder Include="Connected Services\" />
    <Folder Include="wwwroot\assets\icons\" />
    <Folder Include="wwwroot\src\" />
  </ItemGroup>

  <ItemGroup>
    <PackageReference Include="AutoMapper.Extensions.Microsoft.DependencyInjection" Version="7.0.0" />
    <PackageReference Include="Microsoft.AspNetCore.App" />
    <PackageReference Include="MediatR" Version="7.0.0" />
    <PackageReference Include="AspNet.Security.OAuth.Validation" Version="2.0.0" />
    <PackageReference Include="Microsoft.SyndicationFeed.ReaderWriter" Version="1.0.2" />
    <PackageReference Include="OpenIddict.EntityFrameworkCore.Models" Version="2.0.0" />
    <PackageReference Include="Swashbuckle.AspNetCore" Version="4.0.1" />
  </ItemGroup>

  <!-- Defines text replace task-->
  <UsingTask TaskName="ReplaceFileText" TaskFactory="CodeTaskFactory" AssemblyFile="$(MSBuildToolsPath)\Microsoft.Build.Tasks.v4.0.dll">
    <ParameterGroup>
      <InputFilename ParameterType="System.String" Required="true" />
      <OutputFilename ParameterType="System.String" Required="true" />
      <!--<MatchExpression ParameterType="System.String" Required="true" />-->
      <!--<ReplacementText ParameterType="System.String" Required="false" />-->
    </ParameterGroup>
    <Task>
      <Reference Include="System.Core" />
      <Using Namespace="System" />
      <Using Namespace="System.IO" />
      <Using Namespace="System.Text.RegularExpressions" />
      <Code Type="Fragment" Language="cs">
        <![CDATA[
            File.WriteAllText(
                OutputFilename,
                Regex.Replace(File.ReadAllText(InputFilename), "<script [a-z\"=//]* src=\"scripts.[0-9A-Za-z]*.js\"><.script>", String.Empty)
                );
          ]]>
      </Code>
    </Task>
  </UsingTask>

  <ItemGroup>
    <!-- Don't publish the SPA source files, but do show them in the project files list -->
    <Content Remove="$(SpaRoot)**" />
    <None Include="$(SpaRoot)**" Exclude="$(SpaRoot)node_modules\**" />
  </ItemGroup>

  <ItemGroup>
    <None Remove="ClientApp\dist-server\main.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\0-es2015.9553c3cb728d2b09f7ab.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\0-es2015.9553c3cb728d2b09f7ab.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\1-es5.97d93422372cf5b550f9.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\1-es5.97d93422372cf5b550f9.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\10-es2015.c7b4462a7f33e12647d6.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\10-es2015.c7b4462a7f33e12647d6.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\10-es5.c692b770240da8413bdb.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\10-es5.c692b770240da8413bdb.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\10427.721bd1b8284243373456.ttf" />
    <None Remove="ClientApp\dist\aspnetcorespa\10427.721bd1b8284243373456.ttf" />
    <None Remove="ClientApp\dist\aspnetcorespa\11-es2015.2bdd323060eb2e861a83.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\11-es2015.2bdd323060eb2e861a83.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\12-es2015.7f6af6334f26903aa5d9.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\12-es2015.7f6af6334f26903aa5d9.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\12-es5.1d8a2222fd1f36e66563.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\12-es5.1d8a2222fd1f36e66563.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\13-es2015.7eceedfd4a05c2d656e4.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\13-es2015.7eceedfd4a05c2d656e4.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\13-es5.f58f08de6193e5786443.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\13-es5.f58f08de6193e5786443.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\14-es2015.d3a2d0979bded7db3126.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\14-es2015.d3a2d0979bded7db3126.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\14-es5.e3e974c33b9eb4af6e2f.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\14-es5.e3e974c33b9eb4af6e2f.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\15-es2015.14ad2954c1003fd653ef.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\15-es2015.14ad2954c1003fd653ef.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\15-es5.b133a9eb874b4a152820.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\15-es5.b133a9eb874b4a152820.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\18-es5.d2ef096bc70a86ec7f75.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\18-es5.d2ef096bc70a86ec7f75.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\19-es2015.2119f1f1a97dc112efb8.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\19-es2015.2119f1f1a97dc112efb8.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\19-es5.4c52acbc2955a87002e4.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\19-es5.4c52acbc2955a87002e4.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\2-es2015.cbe0cd90980982f6b444.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\2-es2015.cbe0cd90980982f6b444.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\2-es5.1a536dc064c9230e2e9b.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\2-es5.1a536dc064c9230e2e9b.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\20-es2015.66e66ad64a08c28eb758.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\20-es2015.66e66ad64a08c28eb758.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\20-es5.8b0db5e84e89274d2cdb.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\20-es5.8b0db5e84e89274d2cdb.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\21-es2015.6592469ee4bff0a5bcc5.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\21-es2015.6592469ee4bff0a5bcc5.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\21-es5.c4c184fe2316683a9da7.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\21-es5.c4c184fe2316683a9da7.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\22-es2015.11e7af35dd77dd287a72.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\22-es2015.11e7af35dd77dd287a72.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\22-es5.d5fbcf824a370b60b7e8.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\22-es5.d5fbcf824a370b60b7e8.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\23-es2015.f8095ef9655ae34a7d56.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\23-es2015.f8095ef9655ae34a7d56.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\23-es5.b89e0d261c282e76f06d.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\23-es5.b89e0d261c282e76f06d.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\24-es2015.341cfd7b7f7b5c456f40.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\24-es2015.341cfd7b7f7b5c456f40.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\24-es5.6c3f4c26ca305ad2eb5e.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\24-es5.6c3f4c26ca305ad2eb5e.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\25-es2015.d023254ccbc42a8d4f1b.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\25-es2015.d023254ccbc42a8d4f1b.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\25-es5.3927265b1a8f5bb34b41.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\25-es5.3927265b1a8f5bb34b41.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\26-es2015.6b4f18e652470d0e8aa4.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\26-es2015.6b4f18e652470d0e8aa4.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\26-es5.ebb2fc20e3d99958de58.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\26-es5.ebb2fc20e3d99958de58.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\27-es2015.1e13c697226d09101196.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\27-es2015.1e13c697226d09101196.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\27-es5.0d506f13bbfe9b90f5a0.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\27-es5.0d506f13bbfe9b90f5a0.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\28-es2015.adbce9f444f00e04a3c2.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\28-es2015.adbce9f444f00e04a3c2.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\28-es5.52aaf53cdd2ee610aa25.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\28-es5.52aaf53cdd2ee610aa25.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\29-es2015.a9ff7e875c7d2b5614c1.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\29-es2015.a9ff7e875c7d2b5614c1.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\29-es5.55a05074529a56938551.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\29-es5.55a05074529a56938551.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\3-es2015.297c008456930f8a7ee5.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\3-es2015.297c008456930f8a7ee5.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\3-es5.84420e849d8bdd3af9ba.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\3-es5.84420e849d8bdd3af9ba.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\30-es2015.2b22be2e1e8612c884f5.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\30-es2015.2b22be2e1e8612c884f5.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\30-es5.5f4100bef867a53b6599.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\30-es5.5f4100bef867a53b6599.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\31-es2015.8d4667dcfe8000330e61.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\31-es2015.8d4667dcfe8000330e61.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\31-es5.70dbf55a5460dea53d7e.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\31-es5.70dbf55a5460dea53d7e.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\32-es2015.918c46948e133cce35b8.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\32-es2015.918c46948e133cce35b8.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\32-es5.4d2e45757ff04116c9fb.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\32-es5.4d2e45757ff04116c9fb.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\33-es2015.56544e45a314d3bc8be4.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\33-es2015.56544e45a314d3bc8be4.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\33-es5.0ce8009bd23d5415b9d3.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\33-es5.0ce8009bd23d5415b9d3.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\34-es2015.da1565ccaa2342fb5e2a.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\34-es2015.da1565ccaa2342fb5e2a.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\34-es5.daa1395b8c73a484897f.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\34-es5.daa1395b8c73a484897f.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\35-es2015.2ebce788710c84f38043.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\35-es2015.2ebce788710c84f38043.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\35-es5.28624251ccf02f4183fa.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\35-es5.28624251ccf02f4183fa.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\36-es2015.ce0ea262710a73e8908b.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\36-es2015.ce0ea262710a73e8908b.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\36-es5.b6382f18b167b2db86d6.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\36-es5.b6382f18b167b2db86d6.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\37-es2015.68910320cb70fb9ee710.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\37-es2015.68910320cb70fb9ee710.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\37-es5.c6f13b734fe692f639f1.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\37-es5.c6f13b734fe692f639f1.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\38-es2015.225c25e4b0cae3fafd76.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\38-es2015.225c25e4b0cae3fafd76.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\38-es5.3d9cc9b1f45d34ce42fa.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\38-es5.3d9cc9b1f45d34ce42fa.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\39-es2015.f8da541bbe9f36e41f3e.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\39-es2015.f8da541bbe9f36e41f3e.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\39-es5.e13dfa268e8ed8f41da2.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\39-es5.e13dfa268e8ed8f41da2.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\3rdpartylicenses.txt" />
    <None Remove="ClientApp\dist\aspnetcorespa\3rdpartylicenses.txt" />
    <None Remove="ClientApp\dist\aspnetcorespa\4-es2015.053ce76b3c9bfc38467d.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\4-es2015.053ce76b3c9bfc38467d.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\4-es5.788cae7d1ae7f0aae13f.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\4-es5.788cae7d1ae7f0aae13f.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\40-es2015.e46f19567136a26c3da8.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\40-es2015.e46f19567136a26c3da8.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\5-es2015.c64c739f98564d66a0ec.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\5-es2015.c64c739f98564d66a0ec.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\5-es5.8b6a67ffc83b2af57a1e.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\5-es5.8b6a67ffc83b2af57a1e.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\6-es2015.f099e69fc94cf5e40e61.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\6-es2015.f099e69fc94cf5e40e61.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\6-es5.9b2388b3d12df3a847b1.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\6-es5.9b2388b3d12df3a847b1.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\7-es5.c27d1c2993ebbefe1a0c.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\7-es5.c27d1c2993ebbefe1a0c.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\8-es2015.577977b576b13ea6bc68.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\8-es2015.577977b576b13ea6bc68.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\8-es5.43494e795201cee089df.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\8-es5.43494e795201cee089df.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\9-es2015.8e898278d277ad5f2ee4.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\9-es2015.8e898278d277ad5f2ee4.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\9-es5.a170f30629db65d5e582.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\9-es5.a170f30629db65d5e582.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\common-es2015.68c080e8c333f052b476.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\common-es2015.68c080e8c333f052b476.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\common-es5.3f8c60a3da02d96aadac.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\common-es5.3f8c60a3da02d96aadac.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\Cuprum-Regular.11249be508ffbb38a58c.ttf" />
    <None Remove="ClientApp\dist\aspnetcorespa\Cuprum-Regular.11249be508ffbb38a58c.ttf" />
    <None Remove="ClientApp\dist\aspnetcorespa\index.html" />
    <None Remove="ClientApp\dist\aspnetcorespa\index.html" />
    <None Remove="ClientApp\dist\aspnetcorespa\main-es2015.c1d66856e2c119102039.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\main-es2015.c1d66856e2c119102039.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\main-es5.6c25494ce84159a28247.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\main-es5.6c25494ce84159a28247.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\manifest.json" />
    <None Remove="ClientApp\dist\aspnetcorespa\ngsw-worker.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\ngsw-worker.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\ngsw.json" />
    <None Remove="ClientApp\dist\aspnetcorespa\polyfills-es2015.7dd5ac8d0ddc839fe402.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\polyfills-es2015.7dd5ac8d0ddc839fe402.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\polyfills-es5.c42af9b30455bf2a6b70.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\polyfills-es5.c42af9b30455bf2a6b70.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\runtime-es2015.893f84dce7ce02f7bfc7.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\runtime-es2015.893f84dce7ce02f7bfc7.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\runtime-es5.7d086151a4be8db3347e.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\runtime-es5.7d086151a4be8db3347e.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\safety-worker.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\safety-worker.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\scripts.b93c6b61ee1d7d636987.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\scripts.b93c6b61ee1d7d636987.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\styles.af257b9f4a4c7b8b3bca.css" />
    <None Remove="ClientApp\dist\aspnetcorespa\styles.af257b9f4a4c7b8b3bca.css" />
    <None Remove="ClientApp\dist\aspnetcorespa\worker-basic.min.js" />
    <None Remove="ClientApp\dist\aspnetcorespa\worker-basic.min.js" />
  </ItemGroup>

  <ItemGroup>
    <ProjectReference Include="..\MyLfc.Application\MyLfc.Application.csproj" />
    <ProjectReference Include="..\MyLfc.Common.Web\MyLfc.Common.Web.csproj" />
    <ProjectReference Include="..\MyLiverpool.Business.Contracts\MyLiverpool.Business.Contracts.csproj" />
    <ProjectReference Include="..\MyLiverpool.Business.DtoNext\MyLiverpool.Business.Dto.csproj" />
    <ProjectReference Include="..\MyLiverpool.Business.Services\MyLiverpool.Business.Services.csproj" />
    <ProjectReference Include="..\MyLiverpool.Common.Mappings\MyLiverpool.Common.Mappings.csproj" />
    <ProjectReference Include="..\MyLiverpool.Common.Utilities\MyLiverpool.Common.Utilities.csproj" />
    <ProjectReference Include="..\MyLiverpool.Data.Common\MyLiverpool.Data.Common.csproj" />
  </ItemGroup>

  <Target Name="DebugEnsureNodeEnv" BeforeTargets="Build" Condition=" '$(Configuration)' == 'Debug' And !Exists('$(SpaRoot)node_modules') ">
    <!-- Ensure Node.js is installed -->
    <Exec Command="node --version" ContinueOnError="true">
      <Output TaskParameter="ExitCode" PropertyName="ErrorCode" />
    </Exec>
    <Error Condition="'$(ErrorCode)' != '0'" Text="Node.js is required to build and run this project. To continue, please install Node.js from https://nodejs.org/, and then restart your command prompt or IDE." />
    <Message Importance="high" Text="Restoring dependencies using 'npm'. This may take several minutes..." />
    <Exec WorkingDirectory="$(SpaRoot)" Command="npm install" />
  </Target>

  <Target Name="PublishRunWebpack" AfterTargets="ComputeFilesToPublish">
    <!-- As part of publishing, ensure the JS resources are freshly built in production mode -->
    <!--<Exec WorkingDirectory="$(SpaRoot)" Command="npm install" />-->
    <Exec WorkingDirectory="$(SpaRoot)" Command="npm run build" />
    <Exec WorkingDirectory="$(SpaRoot)" Command="npm run build:ssr" Condition=" '$(BuildServerSideRenderer)' == 'true' " />

    <!-- Removes hashing from scripts-->
    <ItemGroup>
      <FilesToMove Include="$(SpaRoot)dist\aspnetcorespa\scripts*.js" />
    </ItemGroup>
    <Move SourceFiles="@(FilesToMove)" DestinationFiles="$(SpaRoot)dist\aspnetcorespa\scripts.js" Condition="'$(RemoveHashFromTiny)' == 'true'" />
    <!--remove scripts from index-->
    <ReplaceFileText InputFilename="$(SpaRoot)dist\aspnetcorespa\index.html" OutputFilename="$(SpaRoot)dist\aspnetcorespa\index.html" Condition="'$(RemoveHashFromTiny)' == 'true'" />
    <!-- Include the newly-built files in the publish output -->
    <ItemGroup>
      <DistFiles Include="$(SpaRoot)dist\**;" />
      <DistFiles Include="$(SpaRoot)dist-server\**" Condition=" '$(BuildServerSideRenderer)' == 'true' " />
      <!--<DistFiles Include="$(SpaRoot)node_modules\**" Condition="'$(BuildServerSideRenderer)' == 'true'" />-->
      <ResolvedFileToPublish Include="@(DistFiles->'%(FullPath)')" Exclude="@(ResolvedFileToPublish)">
        <RelativePath>%(DistFiles.Identity)</RelativePath>
        <CopyToPublishDirectory>PreserveNewest</CopyToPublishDirectory>
      </ResolvedFileToPublish>
    </ItemGroup>
  </Target>

  <ProjectExtensions><VisualStudio><UserProperties clientapp_4package_1json__JsonSchema="" /></VisualStudio></ProjectExtensions>

</Project>
