@using MyLiverpool.Business.Resources

<div ng-init="vm.init()">
    <h2 ng-bind="vm.name"></h2>
    <h3 ng-bind="vm.description"></h3>
    <div class="container-fluid" ng-repeat="message in vm.messages">

        <div class="panel panel-default">
            <div class="panel-heading">
                <a ui-sref="userInfo({id: message.authorId})" ng-bind="message.authorUserName"></a>
            </div>
            <div class="panel-body" ng-bind="message.message">
            </div>
        </div>
    </div>


    <div class="col-xs-12 col-sm-12" ng-show="$root.loggedIn()">
        <div class="">
            <textarea class="col-md-4 editor" rows="6"></textarea>
            <button class="btn btn-primary center-block"> @CommonMessages.Create</button>
        </div>
    </div>

    <div class="pagination">
        @*@Html.PageLinks(Model.Messages.PageNo, Model.Messages.TotalItems, x => Url.Action("Theme", new { id = Model.Id, page = x }))*@
    </div>
</div>
@*<script>
    $('#addComment').click(function () {
        console.log('add forum comment');
        postValues();
    });

    function postValues() {
        var comment = $('#forumCommentMessage').htmlcode();
        console.log(comment);
        if (!comment) {
            return;
        }
        //var themeId = Model.Id;
        $.ajax({
            type: 'post',
            //url: 'Url.Action("AddComment", "Forum")',
            data: { comment: comment, themeId: themeId },
            beforeSend: function() {

            },
            success: function(response) {
                $('#forumCommentMessage').val('');
                publishComment(response, comment);
            }
        });
    }

    function publishComment(id, comment) {
        console.log(id);
        //"<div class='comment'> <input id='comment_Id' name='comment.Id' type='hidden' value=" + id + "> " + comment + User.Identity.Name <br> <button class='reply'>add reply </button></div>");

        $('#comments').append("<li class='media comment'><a class='pull-left' href='#'><img class='media-object img-thumbnail' src='User.Identity.Name' alt='comment.Author.UserName'></a><div class='media-body'><h4 class='media-heading'>User.Identity.Name</h4><input id='comment_Id' name='comment.Id' type='hidden' value" + id + "> " + comment + "</div><br/><button class='btn' data-toggle='modal' data-target='#addReply'>@CommonMessages.Reply</button></li>");
        
    }
</script>*@