@using MyLiverpool.Business.Resources
<div class="container-fluid" ng-init="vm.init(undefined,undefined)">
    <div class="row" ng-repeat="item in vm.newsItems">
        <div class="" ng-if="!item.pending || isEditor()">
            <div class="flex-vertical-center">
                <a ui-sref="newsInfo({id: item.id})" class="col-xs-9 col-sm-9"><h4 ng-bind="item.title"></h4></a>
                <span class="col-xs-3 col-sm-3 pull-right" ng-if="isNewsmaker()">
                    <a ng-if="isEditor()" ng-show="item.pending" ng-click="vm.activate($index)"><span class="glyphicon glyphicon-ok"></span></a>
                    <a ng-if="isEditor() || isUserAuthor(userId(), item.authorId)" ui-sref="newsEdit({id: item.id})"><span class="glyphicon glyphicon-pencil"></span></a>
                    <a ng-if="isEditor() || isUserAuthor(userId(), item.authorId)" ng-click="vm.delete($index)"><span class="glyphicon glyphicon-trash"></span></a>
                </span>
            </div>
            <div class="">
                <img class="img-thumbnail news-mini center-block" alt="" ng-src="{{item.photoPath}}"/>
            </div>
            <div class="">
                <i> <span ng-bind-html="item.brief | rawHtml"></span></i>
            </div>
            <div class="col-sx-12 col-sm-12">
                <ul class="list-inline small small-offset">
                    <li class="">@ColonsMessages.Category</li>
                    <li class=""><a ui-sref="news({page: 1, categoryId: item.newsCategoryId})" ng-bind="item.newsCategoryName"></a></li>
                    <li class="">|</li>
                    <li class="">@ColonsMessages.AdditionTime</li>
                    <li class="" ng-bind="item.additionTime | date:'medium'"></li>
                    <li class="">|</li>
                    <li class="">@ColonsMessages.Reads</li>
                    <li class="" ng-bind="item.reads"></li>
                    <li class="">|</li>
                    <li class="">@ColonsMessages.Author</li>
                    <li class=""><a ui-sref="userInfo({id: item.authorId })" ng-bind="item.authorUserName"></a></li>
                    <li class="">|</li>
                    <li class="">@ColonsMessages.CommentsCount</li>
                    <li class="" ng-bind="item.commentsCount"></li>
                </ul>
            </div>
        </div>
    </div>
    <div class="pagination">
        <uib-pagination ng-show="vm.totalItems > vm.itemPerPage" total-items="vm.totalItems" ng-model="vm.pageNo" ng-change="vm.goToPage()"></uib-pagination>
    </div>
</div>