@using Microsoft.AspNet.Identity
@using MyLiverpool.Helpers
@using MyLiverpoolSite.Business.ViewModels.Resources
@model MyLiverpoolSite.Data.DataAccessLayer.PageableData<MyLiverpoolSite.Business.ViewModels.Users.UserViewModel>
@{
    ViewBag.Title = CommonMessages.Users;
}

<div class="table-responsive">
    <table class="table table-striped table-condensed">
        <thead>
            <tr>
                <th>@UsersMessages.LastLogin</th>
                <th>@UsersMessages.UserName</th>
                <th>@UsersMessages.RegistrationDate</th>
                <th>@UsersMessages.Group</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var user in Model.List)
            {
                <tr>
                    <td class="">
                        @user.LastModified
                    </td>
                    <td class="">
                        <a href="@Url.Action("Info", new {id = user.Id})">@user.UserName</a>
                        @if (Request.IsAuthenticated && User.Identity.GetUserId<int>() != user.Id)
                        {
                            <a href="@Url.Action("WriteMessage", "User", new {receiverId = user.Id})"><span class="glyphicon glyphicon-envelope"></span></a>
                        }
                    </td>
                    <td class="">
                        @user.RegistrationDate
                    </td>
                    <td class="">
                        @user.RoleGroup.RussianName
                    </td>
                </tr>

            }
        </tbody>
    </table>
</div>
<div class="pagination"> @Html.PageLinks(Model.PageNo, Model.CountPage, x => Url.Action("Index", new { page = x })) </div> 