<div *ngIf="item">
    <form class="form-horizontal" name="editForm" role="form" [formGroup]="editForm" (ngSubmit)="onSubmit()">
        <mat-form-field class="full-width">
            <mat-select placeholder="Категория" formControlName="categoryId">
                <mat-option *ngFor="let category of categories" [value]="category.id" [textContent]="category.name">
                </mat-option>
            </mat-select>
        </mat-form-field>
        <div class="form-group col-sm-12">
            <mat-form-field class="full-width">
                <input matInput formControlName="title" placeholder="Название"/>
            </mat-form-field>
        </div>
        <div class="form-group">
            <div class="col-sm-12"> 
                <label class="control-label"> Краткое описание:</label>
                <bbeditor name="brief" [type]="1" [value]="item.brief" [height]="150" formControlName="brief"></bbeditor>
            </div>
        </div>
        <div class="form-group">
            <div class="col-sm-12">
                <label class="control-label"> Текст новости:</label>
                <bbeditor name="message" [type]="2" [value]="item.message" [height]="350" formControlName="message"></bbeditor>
            </div>
        </div>
        <div class="form-group col-sm-12">
            <mat-form-field class="full-width">
                <input matInput formControlName="photoUrl" placeholder="Ссылка на фоторепортаж(пока только оф сайт)"/>
            </mat-form-field>
            <button mat-raised-button type="button" [disabled]="!editForm.get('photoUrl').value" (click)="copyPhoto()">Скопировать фото</button>
        </div>
        <div class="form-group col-sm-12">
            <mat-form-field class="full-width">
                <input matInput formControlName="source" placeholder="Источник" />
            </mat-form-field>
        </div>
        <div class="form-group col-sm-12">
            <mat-form-field class="full-width">
                <input matInput formControlName="photo" placeholder="Главное фото"/>
            </mat-form-field>
            <image-addition [isMultiple]="false" (loadedImage)="updateImage($event)"></image-addition>
        </div>
        <div class="form-group col-sm-12">
            <label class="control-label col-xs-2 col-sm-2"> Дополнительные фото:</label>
            <image-addition [isMultiple]="true" [controlName]="additional"></image-addition>
        </div>
        <div class="form-group col-sm-12">
            <div class="full-width">
                <mat-checkbox color="warn" formControlName="canCommentary">Разрешить комментарии</mat-checkbox>
            </div>
        </div>
        <div class="form-group col-sm-12">
            <div class="full-width">
                <mat-checkbox color="warn" formControlName="onTop">Наверху</mat-checkbox>
            </div>
        </div>
        <div class="form-group col-sm-12" *ngIf="roles.isEditor">
            <div class="full-width">
                <mat-checkbox color="warn" formControlName="pending">Отложена</mat-checkbox>
            </div>
        </div>      
        <div class="form-group col-sm-12">
            <div class="full-width">
                <mat-checkbox color="warn" formControlName="stayOnPage">Оставаться на этой странице после сохранения</mat-checkbox>
            </div>
        </div>
        <div class="form-group col-sm-12">
            <div class="col-xs-offset-2 col-sm-offset-2 col-xs-10 col-sm-10">
                <button mat-raised-button color="warn" type="submit" [disabled]="!editForm.valid">Сохранить</button>
            </div>
        </div>
    </form>
</div>
