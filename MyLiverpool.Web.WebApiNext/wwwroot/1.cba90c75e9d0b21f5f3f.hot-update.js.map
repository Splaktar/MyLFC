{"version":3,"sources":["webpack:///./angular2App/app/club/club-edit.component.ts?037a","webpack:///./angular2App/app/club/index.ts?0aba"],"names":[],"mappings":"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","file":"1.cba90c75e9d0b21f5f3f.hot-update.js","sourcesContent":["import { Component, OnInit, OnDestroy } from \"@angular/core\";\r\nimport { FormControl, FormGroup, FormBuilder, Validators } from \"@angular/forms\";\r\nimport { Router, ActivatedRoute } from \"@angular/router\";\r\nimport { Subscription } from \"rxjs/Subscription\";\r\nimport { ClubService } from \"./club.service\";\r\nimport { Club } from \"./club.model\";\r\nimport { LocalStorageMine, RolesCheckedService } from \"../shared/index\";                                       \r\n\r\n@Component({\r\n    selector: \"club-edit\",\r\n    template: require(\"./club-edit.component.html\")\r\n})\r\n\r\nexport class ClubEditComponent implements OnInit, OnDestroy {\r\n    editForm: FormGroup;\r\n                                                  \r\n    private sub: Subscription;\r\n    id: number;\r\n    item: Club;\r\n    uploadFile: any;\r\n    hasBaseDropZoneOver: boolean = false;\r\n    options: Object;\r\n   // categories: NewsCategory[];\r\n\r\n    constructor(private clubService: ClubService,\r\n        private route: ActivatedRoute,\r\n        private router: Router,\r\n        private localStorage: LocalStorageMine,\r\n        private formBuilder: FormBuilder) {\r\n        this.item = new Club();\r\n    }\r\n\r\n    ngOnInit() {\r\n        this.initForm();\r\n        this.sub = this.route.params.subscribe(params => {\r\n            let id = +params[\"id\"];\r\n            if (id > 0) {\r\n                this.clubService.getSingle(id)\r\n                    .subscribe(data => this.parse(data),\r\n                    error => console.log(error),\r\n                    () => { });\r\n            }\r\n        });\r\n        //this.matchService.GetAll()\r\n        //    .subscribe(data => this.parseCategories(data),\r\n        //    error => console.log(error),\r\n        //    () => { });\r\n\r\n        this.initOption();\r\n\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        this.sub.unsubscribe();\r\n    }\r\n\r\n    onSubmit() {\r\n        let newsItem = this.parseForm();\r\n        if (this.id > 0) {\r\n            this.clubService.update(this.id, newsItem)\r\n                .subscribe(data => console.log(data.id),//this.router.navigate([\"/news\", data.id]),\r\n                error => console.log(error),\r\n                () => { });\r\n        } else {\r\n            this.clubService.create(newsItem)\r\n                .subscribe(data => console.log(data.id),//this.router.navigate([\"/news\", data.id]),\r\n                error => console.log(error),\r\n                () => { });\r\n        }\r\n    }\r\n\r\n    handleUpload(data): void {\r\n        if (data && data.response) {\r\n            data = JSON.parse(data.response);\r\n            this.editForm.controls[\"logo\"].patchValue(data);\r\n        }\r\n    }\r\n\r\n    private parse(data: Club): void {\r\n        this.id = data.id;\r\n        this.editForm.patchValue(data);\r\n    }\r\n\r\n    private parseForm(): Club {\r\n        let item = new Club();\r\n        item.id = this.id;\r\n        item.englishName = this.editForm.controls[\"englishName\"].value;\r\n        item.logo = this.editForm.controls[\"logo\"].value;\r\n        item.name = this.editForm.controls[\"name\"].value;\r\n        item.stadium = this.editForm.controls[\"stadium\"].value;\r\n\r\n        return item;\r\n    }\r\n\r\n    private initForm(): void {\r\n        this.editForm = this.formBuilder.group({\r\n            'englishName': [\"\", Validators.compose([\r\n                Validators.required])],\r\n            'logo': [\"\", Validators.compose([\r\n                Validators.required])],\r\n            'name': [\"\", Validators.compose([\r\n                Validators.required])],\r\n            'stadium': [\"\", Validators.compose([\r\n                Validators.required])]\r\n        });\r\n    }\r\n\r\n    private initOptions(): void {\r\n        this.options = {\r\n            allowedExtensions: [\"image/png\", \"image/jpg\"],\r\n            url: `/api/v1/upload/clubLogo/${this.editForm.controls[\"logo\"].value}`,\r\n            authToken: this.localStorage.get(\"access_token\"),\r\n            authTokenPrefix: \"Bearer\"\r\n        }\r\n    }\r\n\r\n    //private parseCategories(items: NewsCategory[]) {\r\n    //    this.categories = items;\r\n    //}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./angular2App/app/club/club-edit.component.ts","export * from \"./club.service\";\r\nexport * from \"./club-list.component\";\r\nexport * from \"./club-edit.component\";\n\n\n// WEBPACK FOOTER //\n// ./angular2App/app/club/index.ts"],"sourceRoot":""}